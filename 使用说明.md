# AI小说创作工具 Pro v4.0 - 使用说明

## 📦 快速开始

### 一键启动（推荐）
1. 确保已安装Python 3.8+
2. 在项目根目录运行：
   ```bash
   python start_venv.py
   ```
3. 脚本会自动：
   - 检查Python版本
   - 创建虚拟环境（如需要）
   - 安装/更新依赖
   - 启动应用

### 手动启动
1. 创建虚拟环境：
   ```bash
   python -m venv venv
   ```
2. 激活虚拟环境：
   - Windows: `venv\Scripts\activate`
   - Linux/Mac: `source venv/bin/activate`
3. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
4. 启动应用：
   ```bash
   python app.py
   ```

## 📚 版权信息

版权所有 © 2026 新疆幻城网安科技有限责任公司 (幻城科技)
作者：幻城

## 🔗 相关链接

- GitHub: https://github.com/yangqi1309134997-coder/ai-novel-generator
- 幻城云笔记: https://hcnote.cn/

## ❓ 常见问题

### 1. 端口被占用
**问题**：启动时提示端口7860被占用
**解决**：脚本会自动查找可用端口，无需手动处理

### 2. 依赖安装失败
**问题**：pip安装依赖时失败
**解决**：
- 升级pip：`python -m pip install --upgrade pip`
- 使用国内镜像：`pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt`

### 3. 虚拟环境创建失败
**问题**：venv模块不可用
**解决**：使用virtualenv：
```bash
pip install virtualenv
virtualenv venv
```

### 4. 模块导入错误
**问题**：启动时提示模块不存在
**解决**：确保在虚拟环境中安装了所有依赖

### 5. API配置错误
**问题**：无法连接API
**解决**：
1. 检查API密钥是否正确
2. 在"系统设置"中测试后端连接
3. 查看日志文件：`logs/novel_tool_*.log`

## 📁 项目结构

```
ai-novel-generator-4.0/
├── app.py                 # 主程序
├── start_venv.py         # 一键启动脚本
├── requirements.txt        # 依赖列表
├── config/               # 配置目录
├── logs/                 # 日志目录
├── projects/             # 项目数据
├── exports/              # 导出文件
└── cache/                # 缓存目录
```

## 📖 功能特性

- ✅ 智能创作：从零开始创作长篇小说
- ✅ 智能重写：17种预设风格重写
- ✅ 智能续写：自动续写已有小说
- ✅ 小说润色：8种润色类型
- ✅ 灵活分段：支持自动分段、按字数分段、按固定文本分段
- ✅ 项目管理：多项目管理，支持断点续传
- ✅ 多格式导出：Word、TXT、Markdown、HTML
- ✅ 错误重试：自动重试失败的操作
